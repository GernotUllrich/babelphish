#!/usr/bin/env ruby

require 'optparse'
require 'babelphish'

task = :babelphish

OptionParser.new do |opts|
  opts.banner = "Usage: babelphish [options]"
#  opts.on('-d', '--directory dir', "Required.  Path to directory that contains files to be translated") {|dir| ENV['directory'] = dir }
#  opts.on('-l', '--language lang', "Source language.  (default 'en')") { |lang| ENV['language'] = lang }
  opts.on('-y', '--yaml yml', "Required.  Path to the yml file to be translated") {|yml| ENV['yml'] = yml }
  opts.on('-o', '--overwrite ov', "Overwrite existing translations(default 'false')") { |ov| ENV['overwrite'] = ov }
end.parse!

if Babelphish.load_tasks
  Rake::Task[task].invoke
else
  STDERR.puts "Can't find Rakefile. Are we in a Rails folder?"
end